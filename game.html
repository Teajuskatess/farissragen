<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Islamic Quiz</title>
    <link rel="icon" type="image/x-icon" href="Aseet/logo.png".png">
   <style>
    /* General Styles */
body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(to right, #4facfe, #00f2fe);
    color: #333;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    flex-direction: column;
    padding: 10px; /* Added padding for smaller screens */
    box-sizing: border-box;
}

.container {
    background: #fff;
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
    width: 100%;
    max-width: 600px;
    text-align: center;
    margin-top: 20px;
}

h1 {
    color: #333;
    margin-bottom: 20px;
    font-size: 1.8rem;
    line-height: 1.3;
}

.question {
    font-size: 1.2rem;
    margin: 20px 0;
}

.answers button {
    background: #4facfe;
    border: none;
    color: white;
    padding: 12px;
    font-size: 1rem;
    border-radius: 5px;
    cursor: pointer;
    transition: background 0.3s ease;
    margin: 10px 0;
    width: 100%; /* Make buttons full width */
    box-sizing: border-box;
}

.answers button:hover {
    background: #00c6ff;
}

#timer {
    margin-top: 20px;
    font-size: 1rem;
    color: #666;
}

.hidden {
    display: none;
}

.cert-container {
    display: none;
    margin-top: 20px;
}

.cert-container div {
    border: 2px solid #4facfe;
    padding: 20px;
    border-radius: 10px;
    display: inline-block;
    background: #e8f7ff;
}

.cert-container h2 {
    margin: 0;
    color: #333;
}

#login-container {
    margin-bottom: 20px;
}

#login-container input {
    padding: 12px;
    font-size: 1rem;
    border: 1px solid #ddd;
    border-radius: 5px;
    margin-right: 10px;
    width: 100%;
    box-sizing: border-box;
    margin-bottom: 10px;
}

#login-container button {
    background: #4facfe;
    border: none;
    color: white;
    padding: 12px;
    font-size: 1rem;
    border-radius: 5px;
    cursor: pointer;
    width: 100%;
}

#download-button {
    background: linear-gradient(to bottom, #4facfe, #00f2fe);
    border: none;
    color: white;
    padding: 12px 24px;
    font-size: 1rem;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s ease, box-shadow 0.3s ease;
    margin: 10px auto;
    display: block;
    text-transform: uppercase;
    font-weight: bold;
    width: 100%;
    max-width: 250px;
    box-sizing: border-box;
}

#download-button:hover {
    background: linear-gradient(to bottom, #4facfe, #00f2fe);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

#download-button:active {
    transform: translateY(2px);
    box-shadow: none;
}

/* Star Rating Styles */
#star-container {
    margin-top: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.star {
    font-size: 2rem;  /* Adjust the size of stars */
    color: #f39c12;  /* Gold color for the stars */
    margin: 0 5px;  /* Space between stars */
    transition: transform 0.2s ease;  /* Smooth scale transition */
}

.star:hover {
    transform: scale(1.2);  /* Slightly scale up when hovered */
}


/* Responsive Styles */
@media (max-width: 1024px) {
    .container {
        max-width: 90%; /* Slightly reduce width for tablets */
        padding: 20px;
    }

    h1 {
        font-size: 1.5rem;
    }

    .question {
        font-size: 1rem;
    }

    .answers button {
        font-size: 0.9rem;
        padding: 12px;
    }

    #timer {
        font-size: 0.9rem;
    }
}

@media (max-width: 768px) {
    body {
        flex-direction: column;
        align-items: center;
        padding: 10px;
    }

    .container {
        max-width: 100%;
        padding: 15px;
    }

    h1 {
        font-size: 1.5rem;
        margin-bottom: 15px;
    }

    .question {
        font-size: 1rem;
    }

    .answers button {
        font-size: 0.9rem;
        padding: 12px;
        width: 100%;
    }

    #login-container input,
    #login-container button {
        font-size: 1rem;
    }

    #download-button {
        max-width: 50%;
    }
}

@media (max-width: 480px) {
    body {
        padding: 5px;
    }

    .container {
        padding: 10px;
    }

    h1 {
        font-size: 1.3rem;
    }

    .question {
        font-size: 1rem;
    }

    .answers button {
        font-size: 0.9rem;
        padding: 12px;
        width: 100%;
    }

    #timer {
        font-size: 0.9rem;
    }

    #login-container input,
    #login-container button {
        font-size: 1rem;
    }

    #download-button {
        max-width: 90%;
    }
}


#level-selection button {
    margin: 10px 0;
}

#result-container button {
    margin: 10px;
}

#download-button {
    background: #4facfe;
    padding: 12px 24px;
    border-radius: 8px;
    width: auto;
    max-width: 250px;
}

#download-button:hover {
    background: #00c6ff;
}

#back-button {
    background: #f44336;
    padding: 12px 24px;
    border-radius: 8px;
    width: auto;
    max-width: 250px;
    color: white;
    text-transform: uppercase;
    font-weight: bold;
}

#back-button:hover {
    background: #e57373;
}

button {
    background: #4facfe;
    border: none;
    color: white;
    padding: 12px;
    font-size: 1rem;
    border-radius: 5px;
    cursor: pointer;
    transition: background 0.3s ease;
    margin: 10px 0;
    width: 100%; /* Make buttons full width */
    box-sizing: border-box;
}

button:hover {
    background: #00c6ff;
}

button:active {
    transform: translateY(2px);
}

#level-selection button {
    margin: 10px 0;
}

    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>Islamic Quiz</h1>
        <div id="login-container">
            <input type="text" id="username" placeholder="Enter your name">
            <button onclick="startQuiz()">Start Quiz</button>
        </div>
        <div id="quiz-container" class="hidden">
            <div id="question-container" class="question"></div>
            <div class="answers" id="answers-container"></div>
            <p id="timer">Time left: <span id="time-left">120</span> seconds</p>
        </div>
        <div id="result-container" class="hidden">
            <h2>Quiz Finished!</h2>
            <p>Your score: <span id="final-score"></span></p>
            <button id="download-button" onclick="downloadCertificate()">Download Certificate as PDF</button>
                <button id="back-button" onclick="backToHome()">Back to Home</button>
            </div>

            <div id="star-container"></div> <!-- Star Rating Section -->
            <div id="cert-container">

            <div id="level-selection" class="hidden">
                <h2>Select Level</h2>
                <button onclick="selectLevel(1)">Level 1</button>
                <button onclick="selectLevel(2)">Level 2</button>
                <button onclick="selectLevel(3)">Level 3</button>
                <button onclick="selectLevel(4)">Level 4</button>
                <button onclick="selectLevel(5)">Level 5</button>
            </div>
            <audio id="background-music" loop>
                <source src="Aseet/the-boys-beats-walking-in-the-park-funny-happy-instrumental-278239.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>

            <audio id="correct-sound">
                <source src="Aseet/correct.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
            
            <audio id="incorrect-sound">
                <source src="Aseet/incorrect.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
            
            
        </div>
    </div>
<script>
   const levels = {
    1: [
        { question: "Apa yang dimaksud dengan rukun Islam?", answers: ["Kepercayaan kepada Allah", "Ajaran tentang iman", "Prinsip dasar ajaran Islam", "Hukum dalam Islam"], correct: 2 },
        { question: "Siapakah nabi terakhir dalam Islam?", answers: ["Nabi Isa", "Nabi Musa", "Nabi Muhammad", "Nabi Daud"], correct: 2 },
        { question: "Apa yang menjadi kitab suci umat Islam?", answers: ["Al-Qur'an", "Injil", "Torah", "Psalms"], correct: 0 },
        { question: "Berapa jumlah rakaat dalam salat subuh?", answers: ["2 rakaat", "4 rakaat", "3 rakaat", "5 rakaat"], correct: 0 },
        { question: "Apa nama tempat ibadah umat Islam?", answers: ["Gereja", "Kuil", "Masjid", "Sinagoga"], correct: 2 },
        { question: "Siapakah malaikat yang bertugas menyampaikan wahyu?", answers: ["Mikail", "Izrail", "Jibril", "Israfil"], correct: 2 },
        { question: "Apa nama bulan suci dalam Islam?", answers: ["Syawal", "Ramadan", "Rabiul Awal", "Muharram"], correct: 1 },
        { question: "Berapa kali umat Islam diwajibkan salat dalam sehari?", answers: ["3 kali", "5 kali", "4 kali", "2 kali"], correct: 1 },
        { question: "Apa arti dari 'Bismillah'?", answers: ["Dengan nama Allah", "Salam sejahtera", "Allah Maha Besar", "Puji bagi Allah"], correct: 0 },
        { question: "Apa nama hari raya yang dirayakan setelah bulan Ramadan?", answers: ["Idul Adha", "Idul Fitri", "Maulid Nabi", "Isra Mi'raj"], correct: 1 },
        // Tambahkan 10 soal lainnya untuk level 1
    ],
    2: [
        { question: "Apa yang menjadi kitab suci umat Islam?", answers: ["Al-Qur'an", "Injil", "Torah", "Psalms"], correct: 0 },
        { question: "Berapa jumlah malaikat yang wajib diketahui dalam Islam?", answers: ["4", "10", "12", "7"], correct: 1 },
        { question: "Apa nama perang pertama yang dipimpin oleh Nabi Muhammad?", answers: ["Perang Badar", "Perang Uhud", "Perang Khandak", "Perang Tabuk"], correct: 0 },
        { question: "Apa yang dimaksud dengan qada?", answers: ["Kehendak Allah", "Hukum Allah", "Takdir yang bisa diubah", "Takdir yang tidak bisa diubah"], correct: 3 },
        { question: "Siapakah ayah dari Nabi Yusuf?", answers: ["Nabi Ibrahim", "Nabi Yakub", "Nabi Ishak", "Nabi Ismail"], correct: 1 },
        { question: "Apa arti dari 'Lailatul Qadar'?", answers: ["Malam takdir", "Malam cahaya", "Malam kemuliaan", "Malam keajaiban"], correct: 2 },
        { question: "Siapakah sahabat Nabi yang dijuluki 'Pedang Allah'?", answers: ["Abu Bakar", "Umar bin Khattab", "Khalid bin Walid", "Ali bin Abi Thalib"], correct: 2 },
        { question: "Apa arti dari kata 'Islam'?", answers: ["Kepatuhan", "Kedamaian", "Kebebasan", "Keimanan"], correct: 1 },
        { question: "Apa yang dimaksud dengan muamalah?", answers: ["Hubungan ibadah", "Hubungan sosial", "Hubungan spiritual", "Hubungan pribadi"], correct: 1 },
        { question: "Apa nama suku Nabi Muhammad?", answers: ["Quraish", "Yahudi", "Nasrani", "Ansar"], correct: 0 },
        // Tambahkan 10 soal lainnya untuk level 2
    ],
    3: [
        { question: "Apa yang dimaksud dengan rukun iman yang pertama?", answers: ["Iman kepada Allah", "Iman kepada malaikat", "Iman kepada kitab-kitab", "Iman kepada rasul"], correct: 0 },
        { question: "Apa nama kota suci yang menjadi kiblat umat Islam?", answers: ["Madinah", "Jerusalem", "Mekkah", "Baghdad"], correct: 2 },
        { question: "Apa arti dari 'Syahadat'?", answers: ["Pernyataan iman", "Kewajiban ibadah", "Pelaksanaan zakat", "Kisah para nabi"], correct: 0 },
        { question: "Siapakah istri pertama Nabi Muhammad?", answers: ["Aisyah", "Khadijah", "Hafsah", "Zainab"], correct: 1 },
        { question: "Apa nama malam yang lebih baik dari seribu bulan?", answers: ["Malam Isra' Mi'raj", "Malam Nisfu Sya'ban", "Lailatul Qadar", "Malam Idul Fitri"], correct: 2 },
        { question: "Apa yang dimaksud dengan 'Zakat Fitrah'?", answers: ["Zakat untuk fakir miskin", "Zakat yang dikeluarkan saat Idul Fitri", "Zakat hasil panen", "Zakat emas dan perak"], correct: 1 },
        { question: "Siapakah malaikat yang bertugas mencatat amal perbuatan manusia?", answers: ["Mikail", "Jibril", "Israfil", "Raqib dan Atid"], correct: 3 },
        { question: "Apa nama anak Nabi Muhammad yang menjadi cucu pertama?", answers: ["Hasan", "Husain", "Zainab", "Fatimah"], correct: 0 },
        { question: "Apa nama surah pertama dalam Al-Qur'an?", answers: ["Al-Baqarah", "An-Nas", "Al-Fatihah", "Al-Ikhlas"], correct: 2 },
        { question: "Apa hukum berpuasa di bulan Ramadan bagi umat Islam?", answers: ["Sunnah", "Wajib", "Makruh", "Mubah"], correct: 1 },
        // Tambahkan 10 soal lainnya untuk level 3
    ],
    4: [
        { question: "Apa yang dimaksud dengan 'Khilafah' dalam Islam?", answers: ["Sistem pemerintahan Islam", "Sistem pendidikan Islam", "Sistem peradilan Islam", "Sistem perdagangan Islam"], correct: 0 },
        { question: "Siapakah khalifah pertama setelah wafatnya Nabi Muhammad?", answers: ["Umar bin Khattab", "Ali bin Abi Thalib", "Utsman bin Affan", "Abu Bakar As-Siddiq"], correct: 3 },
        { question: "Apa yang dimaksud dengan 'Ijtihad'?", answers: ["Pendapat ulama", "Penafsiran hukum Islam", "Perintah Allah", "Kisah-kisah nabi"], correct: 1 },
        { question: "Apa nama perjanjian yang dilakukan antara Nabi Muhammad dan kaum Quraisy?", answers: ["Perjanjian Hudaibiyah", "Perjanjian Madinah", "Perjanjian Ta'if", "Perjanjian Khandaq"], correct: 0 },
        { question: "Apa yang dimaksud dengan 'Jihad' dalam Islam?", answers: ["Perjuangan di jalan Allah", "Penyebaran agama Islam", "Pelaksanaan haji", "Mendirikan shalat"], correct: 0 },
        { question: "Siapakah nabi yang diberi mukjizat berupa tongkat yang bisa berubah menjadi ular?", answers: ["Nabi Musa", "Nabi Isa", "Nabi Nuh", "Nabi Ibrahim"], correct: 0 },
        { question: "Apa nama surah dalam Al-Qur'an yang berisi kisah tentang Maryam?", answers: ["Al-Mu'minun", "An-Nisa", "Maryam", "Al-Kahf"], correct: 2 },
        { question: "Apa nama ibadah yang dilakukan pada bulan Dzulhijjah?", answers: ["Haji", "Umrah", "Tawaf", "Sa'i"], correct: 0 },
        { question: "Siapakah khalifah Islam yang pertama kali membangun masjid di Kairo?", answers: ["Muawiyah bin Abu Sufyan", "Umar bin Khattab", "Amr bin Ash", "Abdurrahman bin Auf"], correct: 2 },
        { question: "Apa arti dari 'Tauhid'?", answers: ["Mengesakan Allah", "Beribadah kepada Allah", "Mencintai Allah", "Menghormati Allah"], correct: 0 },
        // Tambahkan 10 soal lainnya untuk level 4
    ],
    5: [
        { question: "Apa yang dimaksud dengan 'Qiyas' dalam hukum Islam?", answers: ["Analog hukum Islam", "Penafsiran langsung dari Al-Qur'an", "Konsensus ulama", "Hukum tradisional"], correct: 0 },
        { question: "Siapakah pendiri Dinasti Umayyah?", answers: ["Abu Bakar As-Siddiq", "Umar bin Khattab", "Utsman bin Affan", "Muawiyah bin Abu Sufyan"], correct: 3 },
        { question: "Apa nama nabi yang disebut sebagai 'Khalilullah'?", answers: ["Nabi Ibrahim", "Nabi Musa", "Nabi Isa", "Nabi Muhammad"], correct: 0 },
        { question: "Apa nama surah dalam Al-Qur'an yang berbicara tentang perlindungan dari kejahatan makhluk?", answers: ["Al-Falaq", "An-Nas", "Al-Kafirun", "Al-Masad"], correct: 0 },
        { question: "Apa yang dimaksud dengan 'Fardhu Kifayah'?", answers: ["Kewajiban individu", "Kewajiban kolektif", "Kewajiban sunnah", "Kewajiban yang boleh ditinggalkan"], correct: 1 },
        { question: "Siapakah nabi yang dikenal dengan kesabaran luar biasa saat diuji oleh Allah?", answers: ["Nabi Ayub", "Nabi Yunus", "Nabi Yusuf", "Nabi Hud"], correct: 0 },
        { question: "Apa nama peristiwa di mana Nabi Muhammad diangkat ke langit?", answers: ["Isra' Mi'raj", "Hijrah", "Fathul Makkah", "Perjanjian Hudaibiyah"], correct: 0 },
        { question: "Siapakah penulis Hadits yang terkenal dengan kitab Sahih-nya?", answers: ["Imam Bukhari", "Imam Muslim", "Imam Tirmidzi", "Imam Ahmad"], correct: 0 },
        { question: "Apa yang dimaksud dengan 'Muamalah' dalam Islam?", answers: ["Hubungan sosial", "Hubungan ibadah", "Hubungan keluarga", "Hubungan antar bangsa"], correct: 0 },
        { question: "Apa yang dimaksud dengan 'Istihsan' dalam hukum Islam?", answers: ["Preferensi hukum Islam", "Penafsiran literal", "Konsensus ulama", "Hukum tradisional"], correct: 0 },
        // Tambahkan 10 soal lainnya untuk level 5
    ]
};
    
    let currentLevel = 1;
    let currentQuestionIndex = 0;
    let score = 0;
    let timer;
    let userName = "";
    
    function selectLevel(level) {
        currentLevel = level;
        document.getElementById("level-selection").classList.add("hidden");
        document.getElementById("quiz-container").classList.remove("hidden");
        loadQuestion();
    }
    
    function startQuiz() {
        const usernameInput = document.getElementById("username").value.trim();
        if (usernameInput === "") {
            alert("Please enter your name to start the quiz.");
            return;
        }
        userName = usernameInput;
        document.getElementById("login-container").classList.add("hidden");
        document.getElementById("level-selection").classList.remove("hidden");
    }
    
    function loadQuestion() {
    const questions = levels[currentLevel];
    if (currentQuestionIndex >= questions.length) {
        finishQuiz();
        return;
    }

    const currentQuestion = questions[currentQuestionIndex];
    document.getElementById("question-container").textContent = currentQuestion.question;
    const answersContainer = document.getElementById("answers-container");
    answersContainer.innerHTML = "";

    currentQuestion.answers.forEach((answer, index) => {
        const button = document.createElement("button");
        button.textContent = answer;
        button.onclick = () => nextQuestion(index === currentQuestion.correct);
        answersContainer.appendChild(button);
    });

    startTimer();
}

function playBackgroundMusic() {
    const music = document.getElementById('background-music');
    music.volume = 0.5; // Atur volume musik sesuai keinginan
    music.play();
}

function stopBackgroundMusic() {
    const music = document.getElementById('background-music');
    music.pause();
    music.currentTime = 0; // Atur kembali ke awal
}

// Panggil fungsi playBackgroundMusic() saat memulai kuis
function startQuiz() {
    const usernameInput = document.getElementById("username").value.trim();
    if (usernameInput === "") {
        alert("Please enter your name to start the quiz.");
        return;
    }
    userName = usernameInput;
    document.getElementById("login-container").classList.add("hidden");
    document.getElementById("level-selection").classList.remove("hidden");
    playBackgroundMusic(); // Mulai musik latar
}

// Panggil fungsi stopBackgroundMusic() saat kuis selesai
function finishQuiz() {
    document.getElementById("quiz-container").classList.add("hidden");
    document.getElementById("result-container").classList.remove("hidden");
    document.getElementById("final-score").textContent = score;
    document.getElementById("user-name").textContent = userName;

    if (score > 0) {
        document.getElementById("cert-container").style.display = "block";
    }
    stopBackgroundMusic(); // Hentikan musik latar
}


function startTimer() {
    clearInterval(timer); // Clear any existing timer
    let timeLeft = 30;
    document.getElementById("time-left").textContent = timeLeft;
    
    timer = setInterval(() => {
        timeLeft--;
        document.getElementById("time-left").textContent = timeLeft;
        
        if (timeLeft <= 0) {
            clearInterval(timer);
            nextQuestion(false); // Go to next question if time is up
        }
    }, 1000);
}

function playCorrectSound() {
    const sound = document.getElementById('correct-sound');
    sound.play();
}

function playIncorrectSound() {
    const sound = document.getElementById('incorrect-sound');
    sound.play();
}

function nextQuestion(isCorrect) {
    clearInterval(timer);
    if (isCorrect) {
        score += 10;
        playCorrectSound(); // Mainkan suara benar
    } else {
        playIncorrectSound(); // Mainkan suara salah
    }
    currentQuestionIndex++;
    loadQuestion();
}

    
    function finishQuiz() {
        document.getElementById("quiz-container").classList.add("hidden");
        document.getElementById("result-container").classList.remove("hidden");
        document.getElementById("final-score").textContent = score;
        document.getElementById("user-name").textContent = userName;
    
        // Display star rating based on score
    let starContainer = document.getElementById("star-container");
    starContainer.innerHTML = '';  // Clear previous stars

    let stars = 0;
    if (score >= 90) {
        stars = 3;  // 3 stars for score 90-100
    } else if (score >= 50) {
        stars = 2;  // 2 stars for score 50-89
    } else if (score >= 5) {
        stars = 1;  // 1 star for score 5-45
    }

    // Display the stars
    for (let i = 0; i < stars; i++) {
        let star = document.createElement("span");
        star.classList.add("star");
        star.textContent = "⭐";  // Unicode star
        starContainer.appendChild(star);
    }

    if (score > 0) {
        document.getElementById("cert-container").style.display = "block";
    }
    }
    
    function downloadCertificate() {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF('p', 'mm', 'a4');
    
        doc.setFillColor(240, 240, 240);
        doc.rect(0, 0, 210, 297, 'F');
    
        doc.setDrawColor(212, 175, 55);
        doc.setLineWidth(5);
        doc.rect(10, 10, 190, 277);

        doc.setFont("Helvetica", "bold");
        doc.setFontSize(24);
        doc.setTextColor(212, 175, 55);
        doc.text("SERTIFIKAT PENCAPAIAN", 105, 60, { align: "center" });
    
        doc.setDrawColor(212, 175, 55);
        doc.setLineWidth(1);
        doc.line(30, 65, 180, 65);
    
        doc.setFont("Helvetica", "normal");
        doc.setFontSize(16);
        doc.setTextColor(0, 0, 0);
        doc.text("Diberikan Kepada", 105, 90, { align: "center" });
    
        doc.setFont("Helvetica", "bold");
        doc.setFontSize(27);
        doc.text(userName, 105, 110, { align: "center" });
    
        doc.setFont("Helvetica", "normal");
        doc.setFontSize(14);
        doc.text("Berhasil menyelesaikan Kuis Islami", 105, 130, { align: "center" });
    
        doc.setFont("Helvetica", "normal");
        doc.setFontSize(14);
        doc.text(`Score: ${score}`, 105, 150, { align: "center" });
    
        doc.setFontSize(10);
        doc.text("Authorized Signature", 105, 270, { align: "center" });
        doc.line(80, 265, 130, 265);
    
        doc.save(`${userName}_Certificate.pdf`);
    }
    
    function backToHome() {
        location.reload(); // Mengatur ulang permainan
    }
</script>
</body>
</html>
